## Фронтенд

### Установка и запуск

Для запуска фронтенд-сервера в режиме разработки:

- Перейдите в директорию фронтенда: cd frontend
- Запустите сервер разработки: npm run dev

### Ссылка на прототип V0

- **Ссылка**: https://v0.app/chat/content-creation-platform-dueuw70Vf88
- **Примечание**: Не рекомендуется вносить изменения или выполнять промпты в V0 без предварительного согласования. По ссылке можно просматривать код или вносить небольшие правки при необходимости.

### Структура фронтенда

### Основные файлы

- **main.tsx**: Точка входа для фронтенд-приложения. Отвечает за запуск всего фронтенда. **Не изменяйте** этот файл.
- **App.tsx**: Определяет маршруты для всех страниц приложения, используя константы из CONSTANTS.tsx для задания путей.
- **CONSTANTS.tsx**: Содержит пути маршрутов и другие константы, используемые в приложении.

### Компоненты

- **ui/**
    - Содержит переиспользуемые UI-компоненты (например, формы), которые можно использовать в коде.
    - Компоненты можно создавать через терминал и затем использовать в проекте.
    - **Документация**: Подробная информация доступна на https://ui.shadcn.com/docs/.
- **pages/**
    - Хранит код для страниц в структурированном формате.
    - Пример структуры:
        - pages/auth/auth.tsx: Страница аутентификации (логин через социальные сети).
        - pages/dashboard/dashboard.tsx: Основная страница дашборда.
        - pages/dashboard/comps/additional_page_for_dashboard.tsx: Дополнительные компоненты или подстраницы для дашборда.

### Документация по страницам

- **Auth**
    - **Назначение**: Обработка входа пользователей исключительно через социальные сети (например, Google, Apple).
    - **Путь**: Определён в CONSTANTS.tsx и привязан к маршрутам в App.tsx.

## Бэкенд

### Структура директорий

```
backend/
├── src/                        # Исходный код приложения
├── supabase/                   # Файлы, связанные с Supabase (например, миграции)
├── .env                        # Переменные окружения (конфиденциальные данные)
├── .gitignore                  # Файлы/папки, исключённые из Git
├── package.json                # Зависимости и скрипты
├── nodemon.json                # Конфигурация Nodemon для разработки
└── README.md                   # Обзор проекта и инструкции по настройке
```

### 1. src/ - Исходный код

Папка src/ содержит весь исходный код приложения, организованный для модульности и удобства поддержки.

### Подпапки и файлы

- **src/controllers/**
    - **Назначение**: Содержит логику обработки API-запросов и ответов, взаимодействие с Supabase для аутентификации и операций с базой данных.
    - **Файлы**:
        - authController.js: Реализует функции для конечных точек аутентификации (например, регистрация, вход, выход). Использует API аутентификации Supabase для управления сессиями пользователей.
        - dataController.js: Обрабатывает конечные точки, связанные с базой данных (например, CRUD-операции), обеспечивая доступ к данным только для аутентифицированных пользователей через запросы Supabase.
- **src/routes/**
    - **Назначение**: Определяет конечные точки API, связывая HTTP-методы и пути с функциями контроллеров.
    - **Файлы**:
        - authRoutes.js: Маршруты для API аутентификации (например, /api/auth/signup, /api/auth/login).
        - dataRoutes.js: Маршруты для операций с данными (например, /api/data для получения или создания данных). Защищённые маршруты используют middleware аутентификации.
- **src/middleware/**
    - **Назначение**: Хранит пользовательские middleware-функции для обработки запросов перед передачей в контроллеры.
    - **Файлы**:
        - authMiddleware.js: Проверяет JWT-токены Supabase для защиты маршрутов, добавляя аутентифицированного пользователя к объекту запроса.
- **src/utils/**
    - **Назначение**: Содержит вспомогательные функции и переиспользуемую логику для интеграции с Supabase.
    - **Файлы**:
        - supabaseClient.js: Инициализирует клиент Supabase с использованием ключа service role для безопасного доступа к сервисам аутентификации и базы данных Supabase.
- **src/config/**
    - **Назначение**: Хранит конфигурационные файлы приложения.
    - **Файлы**:
        - db.js: Настраивает подключение к Supabase (может быть объединён с supabaseClient.js для упрощения в MVP).
- **src/app.js**
    - **Назначение**: Основной файл приложения Express. Настраивает сервер, middleware (например, CORS, парсинг JSON) и подключает маршруты. Также включает базовую обработку ошибок.
    - **Использование**: Запуск с помощью node src/app.js или npm run dev для разработки.

### 2. supabase/ - Файлы, связанные с Supabase

- **Назначение**: Организует файлы, связанные с Supabase, в основном для управления схемой базы данных и будущих серверных функций.
- **Подпапки и файлы**:
    - **supabase/migrations/**
        - **Назначение**: Хранит SQL-скрипты миграций для определения и управления схемой базы данных Supabase.
        - **Файлы**:
            - init.sql: Определяет начальные таблицы (например, your_table) и включает политики Row Level Security (RLS) для ограничения доступа к данным (например, пользователи могут видеть только свои данные).
        - **Использование**: Выполняйте скрипты миграций в SQL-редакторе Supabase Dashboard.
    - **Примечание**: В будущем эта папка может включать supabase/functions/ для Supabase Edge Functions (серверные функции на TypeScript/Deno) для обработки пользовательской логики после MVP.